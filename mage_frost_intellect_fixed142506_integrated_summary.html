<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Integrated Trinket Sweep Report</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  <script>const whTooltips = {colorLinks: true, iconizeLinks: true, renameLinks: true};</script>
  <script src="https://wow.zamimg.com/js/tooltips.js"></script>
  <style>
    :root { color-scheme: dark; }
    body { font-family: 'Segoe UI', Helvetica, Arial, sans-serif; margin: 2rem; background-color: #0f172a; color: #f8fafc; }
    main { max-width: 1200px; margin: 0 auto; }
    h1, h2 { margin-top: 0; margin-bottom: 0.5rem; color: #e2e8f0; letter-spacing: -0.02em; }
    section { margin-bottom: 2.5rem; }
    .header-controls, .scenario-controls { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; flex-wrap: wrap; gap: 1rem; }
    .chart-container { position: relative; width: 100%; height: 1176px; background: #1e293b; padding: 1.5rem; border-radius: 1rem; box-shadow: 0 20px 25px -5px rgba(0,0,0,0.1), 0 8px 10px -6px rgba(0,0,0,0.1); }
    table { border-collapse: collapse; width: 100%; background: #1e293b; border-radius: 1rem; overflow: hidden; box-shadow: 0 20px 25px -5px rgba(0,0,0,0.1), 0 8px 10px -6px rgba(0,0,0,0.1); }
    th, td { padding: 0.75rem 1rem; border-bottom: 1px solid #334155; text-align: left; white-space: nowrap; }
    tr:last-child td { border-bottom: none; }
    th { background: #334155; font-size: 0.8rem; text-transform: uppercase; letter-spacing: 0.05em; color: #94a3b8; }
    tr:hover td { background-color: #28364a; }
    .meta { color: #64748b; font-size: 0.9rem; margin-bottom: 1rem; }
    .controls { display: flex; align-items: center; gap: 0.75rem; }
    .item-link { display: inline-flex; align-items: center; gap: 0.75rem; text-decoration: none; color: #cbd5e1; transition: color 0.2s ease; }
    .item-link:hover { color: #7dd3fc; }
    .item-link span { white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
    .item-icon { width: 32px; height: 32px; border-radius: 6px; border: 1px solid rgba(255, 255, 255, 0.1); flex-shrink: 0; }
    .toggle-button-group { display: inline-flex; flex-wrap: wrap; gap: 0.5rem; }
    .toggle-button { padding: 0.375rem 1rem; border-radius: 999px; border: none; cursor: pointer; font-weight: 600; background: #28364a; color: #94a3b8; transition: background 0.2s ease, color 0.2s ease; }
    .toggle-button.is-active { background: #4f46e5; color: #fff; }
    .toggle-button.is-inactive { background: #334155; color: #64748b; }
    .item-tooltip { position: fixed; background: rgba(15, 23, 42, 0.95); border: 1px solid #475569; border-radius: 0.5rem; padding: 0.75rem; color: #cbd5e1; pointer-events: none; transition: opacity 0.15s ease; opacity: 0; z-index: 100; max-width: 350px; backdrop-filter: blur(4px); }
    .tooltip-header { display: flex; align-items: center; gap: 0.75rem; margin-bottom: 0.5rem; }
    .tooltip-header img { width: 32px; height: 32px; border-radius: 4px; }
    .tooltip-header strong { font-size: 1rem; color: #f1f5f9; }
    .tooltip-sub { font-size: 0.8rem; color: #94a3b8; }
    .tooltip-body { font-size: 0.9rem; line-height: 1.5; }
    .tooltip-body > div { margin-bottom: 0.25rem; }
    .tooltip-link { margin-top: 0.75rem; padding-top: 0.5rem; border-top: 1px solid #334155; font-size: 0.8rem; }
    .tooltip-link a { color: #7dd3fc; text-decoration: none; }
  </style>
</head>
<body>
  <main>
    <header>
      <h1>Frost DK Integrated Trinket Sweep</h1>
      <p class="meta">Generated: 2025-10-16 03:31 UTC</p>
    </header>

    <section class="scenario-controls">
        <h2>Scenarios</h2>
        <div class="toggle-button-group scenario-tabs">
            <button class="toggle-button scenario-tab" data-scenario="single-buff">Single-Buff</button><button class="toggle-button scenario-tab" data-scenario="single-no_buff">Single-No Buff</button><button class="toggle-button scenario-tab" data-scenario="aoe5-buff">Aoe5-Buff</button><button class="toggle-button scenario-tab" data-scenario="aoe8-buff">Aoe8-Buff</button><button class="toggle-button scenario-tab" data-scenario="aoe5-no_buff">Aoe5-No Buff</button><button class="toggle-button scenario-tab" data-scenario="aoe8-no_buff">Aoe8-No Buff</button>
        </div>
    </section>

    <section>
      <div class="header-controls">
        <h2>DPS Overview</h2>
        <div class="controls">
            <div class="toggle-button-group mode-toggle">
                <button class="toggle-button is-active" id="mode-absolute" data-mode="absolute">Absolute</button>
                <button class="toggle-button" id="mode-delta" data-mode="delta">Î” to Best</button>
            </div>
            <button class="toggle-button" id="tooltip-toggle">Chart Tooltip: On</button>
        </div>
      </div>
      <div class="chart-container">
        <canvas id="trinketChart"></canvas>
      </div>
    </section>
    
    <section>
      <h2>Raw Simulation Values</h2>
      <table>
        <thead>
          <tr>
            <th>Trinket</th>
            <th>ilvl 704</th><th>ilvl 711</th><th>ilvl 723</th><th>ilvl 730</th>
          </tr>
        </thead>
        <tbody id="results-table-body">
        </tbody>
      </table>
    </section>
  </main>
  
  <script>
    const allScenarioData = {"single-buff": [{"item_id": 242399, "name": "item_242399", "results": {"704": 5174956.016793242, "711": 5197534.669741789, "723": 5245687.093094888, "730": 5272368.679360829}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_112_raidtrinkets_blobofswirlingvoid_terra.jpg", "wowhead_url": "https://www.wowhead.com/item=242399"}, {"item_id": 185846, "name": "item_185846", "results": {"704": 5166227.752185926, "711": 5193669.961860798, "723": 5235878.993319386, "730": 5265833.965387106}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_misc_paperpackage01b.jpg", "wowhead_url": "https://www.wowhead.com/item=185846"}, {"item_id": 242497, "name": "item_242497", "results": {"704": 5152737.069330812, "711": 5173293.048246581, "723": 5210362.671201818, "730": 5237293.864866069}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_devourersmallmount_light.jpg", "wowhead_url": "https://www.wowhead.com/item=242497"}, {"item_id": 242392, "name": "item_242392", "results": {"704": 5156608.733411605, "711": 5173173.317526907, "723": 5206318.696530364, "730": 5224792.59700591}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_112_raidtrinkets_intdps_ancientkareshirelic.jpg", "wowhead_url": "https://www.wowhead.com/item=242392"}, {"item_id": 219314, "name": "item_219314", "results": {"704": 5136685.112807485, "711": 5160651.36219069, "723": 5195173.506196753, "730": 5219828.954055877}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_raid_mercurialegg_red.jpg", "wowhead_url": "https://www.wowhead.com/item=219314"}, {"item_id": 242398, "name": "item_242398", "results": {"704": 5100954.781710221, "711": 5125582.632895279, "723": 5172705.8513814695, "730": 5202836.894939373}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_112_raidtrinkets_soulbinderbossinttrinket.jpg", "wowhead_url": "https://www.wowhead.com/item=242398"}, {"item_id": 178826, "name": "item_178826", "results": {"704": 5115785.979076655, "711": 5135610.817213142, "723": 5169601.491678429, "730": 5193396.27400121}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_jewelcrafting_nightseye_01.jpg", "wowhead_url": "https://www.wowhead.com/item=178826"}, {"item_id": 190958, "name": "item_190958", "results": {"704": 5110731.731629943, "711": 5130846.355565872, "723": 5165091.991657064, "730": 5188471.132415748}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_60pvp_trinket1d.jpg", "wowhead_url": "https://www.wowhead.com/item=190958"}, {"item_id": 232545, "name": "item_232545", "results": {"704": 5083368.153891669, "711": 5104374.248238609, "723": 5150931.429365399, "730": 5176935.351759628}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_engineering_90_lightningbox.jpg", "wowhead_url": "https://www.wowhead.com/item=232545"}, {"item_id": 219312, "name": "item_219312", "results": {"704": 5100949.724460264, "711": 5119293.906994114, "723": 5152417.794433406, "730": 5173665.643025635}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_arathordungeon_fragment_color5.jpg", "wowhead_url": "https://www.wowhead.com/item=219312"}, {"item_id": 242494, "name": "item_242494", "results": {"704": 5099240.983302818, "711": 5117900.496376214, "723": 5153327.685245888, "730": 5173156.659466198}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_herb_karesh.jpg", "wowhead_url": "https://www.wowhead.com/item=242494"}, {"item_id": 242403, "name": "item_242403", "results": {"704": 5099726.674531629, "711": 5117424.982303011, "723": 5149985.634848733, "730": 5172463.351299954}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_11_0_etherealraid_communicator_color4.jpg", "wowhead_url": "https://www.wowhead.com/item=242403"}, {"item_id": 242402, "name": "item_242402", "results": {"704": 5101272.54977417, "711": 5116882.405201101, "723": 5149925.55609831, "730": 5172021.243147715}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_112_raidtrinkets_trinkettechnomancer_ritualengine.jpg", "wowhead_url": "https://www.wowhead.com/item=242402"}, {"item_id": 242395, "name": "item_242395", "results": {"704": 5096648.443137398, "711": 5114855.168078358, "723": 5146473.202899983, "730": 5164826.746544781}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_112_raidtrinkets_silkwormsantenna.jpg", "wowhead_url": "https://www.wowhead.com/item=242395"}, {"item_id": 219308, "name": "item_219308", "results": {"704": 5090885.712071671, "711": 5108336.263924893, "723": 5140436.086665032, "730": 5162884.402664193}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_arathordungeon_signet_color1.jpg", "wowhead_url": "https://www.wowhead.com/item=219308"}, {"item_id": 219317, "name": "item_219317", "results": {"704": 5064939.88342098, "711": 5086091.548508675, "723": 5120834.39424093, "730": 5146976.658736498}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_11_0_dungeon_oldgodstatuepiece_purple.jpg", "wowhead_url": "https://www.wowhead.com/item=219317"}, {"item_id": 219313, "name": "item_219313", "results": {"704": 5044162.477485067, "711": 5064287.212411246, "723": 5097273.800989274, "730": 5119713.274824249}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_arathordungeon_bell_color1.jpg", "wowhead_url": "https://www.wowhead.com/item=219313"}, {"item_id": 232542, "name": "item_232542", "results": {"704": 5005917.5949054975, "711": 5021375.789677036, "723": 5051409.942584072, "730": 5070409.007628412}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_111_healraydrone_blackwater.jpg", "wowhead_url": "https://www.wowhead.com/item=232542"}, {"item_id": 219310, "name": "item_219310", "results": {"704": 5006596.958236848, "711": 5022246.720467708, "723": 5052310.414601869, "730": 5070332.397148045}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_arathordungeon_fragment_color4.jpg", "wowhead_url": "https://www.wowhead.com/item=219310"}, {"item_id": 185845, "name": "item_185845", "results": {"704": 5005904.746954158, "711": 5023517.391064889, "723": 5051024.217887398, "730": 5070027.504356536}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_7_0raid_trinket_09a.jpg", "wowhead_url": "https://www.wowhead.com/item=185845"}, {"item_id": 219309, "name": "item_219309", "results": {"704": 5012786.736287429, "711": 5024607.893709345, "723": 5046156.978012664, "730": 5064047.840719901}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_7xp_inscription_talenttome01.jpg", "wowhead_url": "https://www.wowhead.com/item=219309"}, {"item_id": 242393, "name": "item_242393", "results": {"704": 4887633.952909321, "711": 4891172.239161362, "723": 4894878.861037945, "730": 4899189.334376449}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_112_raidtrinkets_astralspinneret.jpg", "wowhead_url": "https://www.wowhead.com/item=242393"}, {"item_id": 232543, "name": "item_232543", "results": {"704": 4870438.422445491, "711": 4873443.942309089, "723": 4877266.9531845, "730": 4880074.222812812}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_misc_food_legion_goomolasses_pool.jpg", "wowhead_url": "https://www.wowhead.com/item=232543"}, {"item_id": 242401, "name": "item_242401", "results": {"704": 4870715.557690234, "711": 4870056.693547965, "723": 4874740.608662049, "730": 4876101.527390313}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_112_raidtrinkets_manaforgetanktrinket3.jpg", "wowhead_url": "https://www.wowhead.com/item=242401"}, {"item_id": 242400, "name": "item_242400", "results": {"704": 4861534.512165683, "711": 4863884.583897727, "723": 4868323.175250808, "730": 4870231.814703451}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_112_raidtrinkets_oathbindersauthority.jpg", "wowhead_url": "https://www.wowhead.com/item=242400"}, {"item_id": 190652, "name": "item_190652", "results": {"704": 4861769.456906142, "711": 4862485.549206316, "723": 4868305.395634636, "730": 4869129.586318864}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_misc_bag_felclothbag.jpg", "wowhead_url": "https://www.wowhead.com/item=190652"}, {"item_id": 242404, "name": "item_242404", "results": {"704": 4858310.846090642, "711": 4860534.1383445775, "723": 4863036.904197039, "730": 4864978.740094979}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_112_raidtrinkets_omnidpstrinket.jpg", "wowhead_url": "https://www.wowhead.com/item=242404"}, {"item_id": 185836, "name": "item_185836", "results": {"704": 4775625.906451248, "711": 4773732.813807416, "723": 4774953.033779762, "730": 4775364.408957954}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_misc_profession_book_enchanting.jpg", "wowhead_url": "https://www.wowhead.com/item=185836"}], "single-no_buff": [{"item_id": 242399, "name": "item_242399", "results": {"704": 5174864.631628073, "711": 5197111.841733995, "723": 5245857.956093058, "730": 5274848.105652975}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_112_raidtrinkets_blobofswirlingvoid_terra.jpg", "wowhead_url": "https://www.wowhead.com/item=242399"}, {"item_id": 185846, "name": "item_185846", "results": {"704": 5167334.79919974, "711": 5192084.441349012, "723": 5236041.196794862, "730": 5267959.725245576}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_misc_paperpackage01b.jpg", "wowhead_url": "https://www.wowhead.com/item=185846"}, {"item_id": 242497, "name": "item_242497", "results": {"704": 5150481.594542484, "711": 5172704.688460709, "723": 5213210.874348894, "730": 5237370.178732977}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_devourersmallmount_light.jpg", "wowhead_url": "https://www.wowhead.com/item=242497"}, {"item_id": 242392, "name": "item_242392", "results": {"704": 5157214.60096412, "711": 5174344.430093535, "723": 5205405.5595901655, "730": 5227764.507864464}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_112_raidtrinkets_intdps_ancientkareshirelic.jpg", "wowhead_url": "https://www.wowhead.com/item=242392"}, {"item_id": 219314, "name": "item_219314", "results": {"704": 5139604.801515358, "711": 5161478.31588333, "723": 5196229.447136656, "730": 5219112.591469296}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_raid_mercurialegg_red.jpg", "wowhead_url": "https://www.wowhead.com/item=219314"}, {"item_id": 242398, "name": "item_242398", "results": {"704": 5099404.214623169, "711": 5124689.487908338, "723": 5172724.074883424, "730": 5204298.347082025}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_112_raidtrinkets_soulbinderbossinttrinket.jpg", "wowhead_url": "https://www.wowhead.com/item=242398"}, {"item_id": 178826, "name": "item_178826", "results": {"704": 5117363.918063191, "711": 5136503.6700663185, "723": 5167594.920497837, "730": 5193591.967135395}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_jewelcrafting_nightseye_01.jpg", "wowhead_url": "https://www.wowhead.com/item=178826"}, {"item_id": 190958, "name": "item_190958", "results": {"704": 5111543.263577561, "711": 5130131.064933149, "723": 5165321.625482302, "730": 5188170.758636624}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_60pvp_trinket1d.jpg", "wowhead_url": "https://www.wowhead.com/item=190958"}, {"item_id": 232545, "name": "item_232545", "results": {"704": 5083453.48502467, "711": 5106045.209677976, "723": 5149494.653937014, "730": 5178300.516155395}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_engineering_90_lightningbox.jpg", "wowhead_url": "https://www.wowhead.com/item=232545"}, {"item_id": 219312, "name": "item_219312", "results": {"704": 5100767.18071144, "711": 5118385.256087235, "723": 5152496.665910607, "730": 5173877.138201943}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_arathordungeon_fragment_color5.jpg", "wowhead_url": "https://www.wowhead.com/item=219312"}, {"item_id": 242494, "name": "item_242494", "results": {"704": 5099417.678710053, "711": 5116937.173562476, "723": 5151798.482821539, "730": 5172827.962982585}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_herb_karesh.jpg", "wowhead_url": "https://www.wowhead.com/item=242494"}, {"item_id": 242403, "name": "item_242403", "results": {"704": 5098826.227427514, "711": 5116806.930212091, "723": 5151642.964892344, "730": 5171970.559208544}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_11_0_etherealraid_communicator_color4.jpg", "wowhead_url": "https://www.wowhead.com/item=242403"}, {"item_id": 242402, "name": "item_242402", "results": {"704": 5100648.760040259, "711": 5117996.987574355, "723": 5150489.226438964, "730": 5171481.433006909}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_112_raidtrinkets_trinkettechnomancer_ritualengine.jpg", "wowhead_url": "https://www.wowhead.com/item=242402"}, {"item_id": 242395, "name": "item_242395", "results": {"704": 5098806.025559212, "711": 5115410.963874817, "723": 5145647.680120185, "730": 5166205.835047926}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_112_raidtrinkets_silkwormsantenna.jpg", "wowhead_url": "https://www.wowhead.com/item=242395"}, {"item_id": 219308, "name": "item_219308", "results": {"704": 5090888.4345906135, "711": 5108761.124177927, "723": 5140461.5931274565, "730": 5161497.318649442}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_arathordungeon_signet_color1.jpg", "wowhead_url": "https://www.wowhead.com/item=219308"}, {"item_id": 219317, "name": "item_219317", "results": {"704": 5065631.721857166, "711": 5085461.995557557, "723": 5123110.491059498, "730": 5145528.08426361}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_11_0_dungeon_oldgodstatuepiece_purple.jpg", "wowhead_url": "https://www.wowhead.com/item=219317"}, {"item_id": 219313, "name": "item_219313", "results": {"704": 5044556.206359087, "711": 5062423.399056948, "723": 5097599.839929302, "730": 5119294.29809541}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_arathordungeon_bell_color1.jpg", "wowhead_url": "https://www.wowhead.com/item=219313"}, {"item_id": 185845, "name": "item_185845", "results": {"704": 5005382.210640915, "711": 5022095.428105292, "723": 5052889.588223746, "730": 5070125.267262158}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_7_0raid_trinket_09a.jpg", "wowhead_url": "https://www.wowhead.com/item=185845"}, {"item_id": 232542, "name": "item_232542", "results": {"704": 5007009.782647634, "711": 5020393.424538113, "723": 5051563.730255782, "730": 5068928.347519988}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_111_healraydrone_blackwater.jpg", "wowhead_url": "https://www.wowhead.com/item=232542"}, {"item_id": 219310, "name": "item_219310", "results": {"704": 5006389.09907693, "711": 5022657.276318217, "723": 5053004.767042226, "730": 5068925.307884453}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_arathordungeon_fragment_color4.jpg", "wowhead_url": "https://www.wowhead.com/item=219310"}, {"item_id": 219309, "name": "item_219309", "results": {"704": 5012523.51293749, "711": 5022784.923250733, "723": 5047322.93690501, "730": 5063205.688885399}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_7xp_inscription_talenttome01.jpg", "wowhead_url": "https://www.wowhead.com/item=219309"}, {"item_id": 242393, "name": "item_242393", "results": {"704": 4887461.874517606, "711": 4890261.36690053, "723": 4894352.800152286, "730": 4899140.870969048}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_112_raidtrinkets_astralspinneret.jpg", "wowhead_url": "https://www.wowhead.com/item=242393"}, {"item_id": 232543, "name": "item_232543", "results": {"704": 4868817.349175562, "711": 4871078.718236635, "723": 4878092.780859657, "730": 4880270.258937491}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_misc_food_legion_goomolasses_pool.jpg", "wowhead_url": "https://www.wowhead.com/item=232543"}, {"item_id": 242401, "name": "item_242401", "results": {"704": 4870865.811528711, "711": 4871716.566519022, "723": 4874625.414870914, "730": 4876685.771111949}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_112_raidtrinkets_manaforgetanktrinket3.jpg", "wowhead_url": "https://www.wowhead.com/item=242401"}, {"item_id": 242400, "name": "item_242400", "results": {"704": 4860073.763148544, "711": 4862767.307555754, "723": 4867497.905938936, "730": 4870729.445859903}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_112_raidtrinkets_oathbindersauthority.jpg", "wowhead_url": "https://www.wowhead.com/item=242400"}, {"item_id": 190652, "name": "item_190652", "results": {"704": 4861470.114970647, "711": 4863081.08830521, "723": 4868645.941977958, "730": 4870485.06739874}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_misc_bag_felclothbag.jpg", "wowhead_url": "https://www.wowhead.com/item=190652"}, {"item_id": 242404, "name": "item_242404", "results": {"704": 4858260.0937098935, "711": 4859679.504094632, "723": 4861197.50262546, "730": 4864336.025991741}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_112_raidtrinkets_omnidpstrinket.jpg", "wowhead_url": "https://www.wowhead.com/item=242404"}, {"item_id": 185836, "name": "item_185836", "results": {"704": 4774703.4847716065, "711": 4775707.320387294, "723": 4775497.858795275, "730": 4775499.713116505}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_misc_profession_book_enchanting.jpg", "wowhead_url": "https://www.wowhead.com/item=185836"}], "aoe5-buff": [{"item_id": 242497, "name": "item_242497", "results": {"704": 14355872.040323269, "711": 14418194.961632267, "723": 14517472.03121849, "730": 14589780.807470554}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_devourersmallmount_light.jpg", "wowhead_url": "https://www.wowhead.com/item=242497"}, {"item_id": 242402, "name": "item_242402", "results": {"704": 14330195.577554839, "711": 14389700.043642944, "723": 14489947.512189489, "730": 14557700.921152735}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_112_raidtrinkets_trinkettechnomancer_ritualengine.jpg", "wowhead_url": "https://www.wowhead.com/item=242402"}, {"item_id": 242395, "name": "item_242395", "results": {"704": 14307007.47245144, "711": 14354200.976055415, "723": 14449071.734668499, "730": 14514752.822738074}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_112_raidtrinkets_silkwormsantenna.jpg", "wowhead_url": "https://www.wowhead.com/item=242395"}, {"item_id": 242494, "name": "item_242494", "results": {"704": 14271645.171543801, "711": 14323131.09436038, "723": 14423293.3092206, "730": 14481864.091850333}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_herb_karesh.jpg", "wowhead_url": "https://www.wowhead.com/item=242494"}, {"item_id": 242398, "name": "item_242398", "results": {"704": 14214111.388972403, "711": 14272938.23635572, "723": 14399600.511415798, "730": 14477038.737116683}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_112_raidtrinkets_soulbinderbossinttrinket.jpg", "wowhead_url": "https://www.wowhead.com/item=242398"}, {"item_id": 219308, "name": "item_219308", "results": {"704": 14259192.27961921, "711": 14317294.222499622, "723": 14402493.590017138, "730": 14470622.776221136}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_arathordungeon_signet_color1.jpg", "wowhead_url": "https://www.wowhead.com/item=219308"}, {"item_id": 190958, "name": "item_190958", "results": {"704": 14265779.274901064, "711": 14311567.239666335, "723": 14407906.06182535, "730": 14469815.121913744}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_60pvp_trinket1d.jpg", "wowhead_url": "https://www.wowhead.com/item=190958"}, {"item_id": 219314, "name": "item_219314", "results": {"704": 14256166.106425393, "711": 14309432.545019342, "723": 14398803.900626648, "730": 14463099.052041601}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_raid_mercurialegg_red.jpg", "wowhead_url": "https://www.wowhead.com/item=219314"}, {"item_id": 242392, "name": "item_242392", "results": {"704": 14270200.777839689, "711": 14318256.980954342, "723": 14405887.805890957, "730": 14461408.926057588}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_112_raidtrinkets_intdps_ancientkareshirelic.jpg", "wowhead_url": "https://www.wowhead.com/item=242392"}, {"item_id": 219312, "name": "item_219312", "results": {"704": 14259141.757150361, "711": 14307109.287809422, "723": 14402716.407798517, "730": 14460141.791754663}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_arathordungeon_fragment_color5.jpg", "wowhead_url": "https://www.wowhead.com/item=219312"}, {"item_id": 232545, "name": "item_232545", "results": {"704": 14187434.091331651, "711": 14251113.811427828, "723": 14368226.5600321, "730": 14444625.926202077}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_engineering_90_lightningbox.jpg", "wowhead_url": "https://www.wowhead.com/item=232545"}, {"item_id": 219317, "name": "item_219317", "results": {"704": 14142181.85022984, "711": 14196926.57982195, "723": 14299058.597787937, "730": 14363076.570225738}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_11_0_dungeon_oldgodstatuepiece_purple.jpg", "wowhead_url": "https://www.wowhead.com/item=219317"}, {"item_id": 178826, "name": "item_178826", "results": {"704": 14122548.692683691, "711": 14167345.728956966, "723": 14247156.31295753, "730": 14298596.422426643}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_jewelcrafting_nightseye_01.jpg", "wowhead_url": "https://www.wowhead.com/item=178826"}, {"item_id": 219313, "name": "item_219313", "results": {"704": 14073364.240495551, "711": 14118292.847070128, "723": 14207477.685956024, "730": 14267563.22487632}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_arathordungeon_bell_color1.jpg", "wowhead_url": "https://www.wowhead.com/item=219313"}, {"item_id": 242403, "name": "item_242403", "results": {"704": 14073139.402281558, "711": 14116322.423342783, "723": 14191980.052603342, "730": 14237124.293134902}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_11_0_etherealraid_communicator_color4.jpg", "wowhead_url": "https://www.wowhead.com/item=242403"}, {"item_id": 232542, "name": "item_232542", "results": {"704": 14006373.455187231, "711": 14045231.868682873, "723": 14129482.608805345, "730": 14189472.910010198}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_111_healraydrone_blackwater.jpg", "wowhead_url": "https://www.wowhead.com/item=232542"}, {"item_id": 219310, "name": "item_219310", "results": {"704": 14003562.401841763, "711": 14051218.578109313, "723": 14134572.584769033, "730": 14187916.101340327}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_arathordungeon_fragment_color4.jpg", "wowhead_url": "https://www.wowhead.com/item=219310"}, {"item_id": 185845, "name": "item_185845", "results": {"704": 14001793.696400406, "711": 14047982.67384481, "723": 14133880.367751744, "730": 14185780.381779788}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_7_0raid_trinket_09a.jpg", "wowhead_url": "https://www.wowhead.com/item=185845"}, {"item_id": 185846, "name": "item_185846", "results": {"704": 13890274.042196492, "711": 13921661.139460217, "723": 13974258.289996598, "730": 14001073.82967422}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_misc_paperpackage01b.jpg", "wowhead_url": "https://www.wowhead.com/item=185846"}, {"item_id": 242399, "name": "item_242399", "results": {"704": 13869345.754292924, "711": 13889783.949304674, "723": 13936469.112686735, "730": 13967811.35343568}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_112_raidtrinkets_blobofswirlingvoid_terra.jpg", "wowhead_url": "https://www.wowhead.com/item=242399"}, {"item_id": 219309, "name": "item_219309", "results": {"704": 13757163.53675379, "711": 13777005.567783244, "723": 13802589.915612666, "730": 13821891.85021673}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_7xp_inscription_talenttome01.jpg", "wowhead_url": "https://www.wowhead.com/item=219309"}, {"item_id": 242401, "name": "item_242401", "results": {"704": 13619010.868627204, "711": 13630968.03562224, "723": 13632280.403401693, "730": 13641711.622886721}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_112_raidtrinkets_manaforgetanktrinket3.jpg", "wowhead_url": "https://www.wowhead.com/item=242401"}, {"item_id": 242393, "name": "item_242393", "results": {"704": 13612941.83503207, "711": 13619877.901345912, "723": 13634930.896894453, "730": 13635597.241659049}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_112_raidtrinkets_astralspinneret.jpg", "wowhead_url": "https://www.wowhead.com/item=242393"}, {"item_id": 232543, "name": "item_232543", "results": {"704": 13597669.058249213, "711": 13606156.275737792, "723": 13622185.596045615, "730": 13628865.990019482}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_misc_food_legion_goomolasses_pool.jpg", "wowhead_url": "https://www.wowhead.com/item=232543"}, {"item_id": 242404, "name": "item_242404", "results": {"704": 13566266.959846446, "711": 13575941.523086434, "723": 13583289.934708942, "730": 13591456.515762364}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_112_raidtrinkets_omnidpstrinket.jpg", "wowhead_url": "https://www.wowhead.com/item=242404"}, {"item_id": 190652, "name": "item_190652", "results": {"704": 13574333.853898669, "711": 13576462.171360217, "723": 13581530.563254671, "730": 13591087.834907608}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_misc_bag_felclothbag.jpg", "wowhead_url": "https://www.wowhead.com/item=190652"}, {"item_id": 242400, "name": "item_242400", "results": {"704": 13568844.72481205, "711": 13577161.30803329, "723": 13585579.009758504, "730": 13587224.669307062}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_112_raidtrinkets_oathbindersauthority.jpg", "wowhead_url": "https://www.wowhead.com/item=242400"}, {"item_id": 185836, "name": "item_185836", "results": {"704": 13343426.552353758, "711": 13341108.404747408, "723": 13341088.072069677, "730": 13346422.9383723}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_misc_profession_book_enchanting.jpg", "wowhead_url": "https://www.wowhead.com/item=185836"}], "aoe8-buff": [{"item_id": 242402, "name": "item_242402", "results": {"704": 20226101.69368726, "711": 20299503.34584253, "723": 20448440.616359424, "730": 20533057.432755113}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_112_raidtrinkets_trinkettechnomancer_ritualengine.jpg", "wowhead_url": "https://www.wowhead.com/item=242402"}, {"item_id": 242497, "name": "item_242497", "results": {"704": 20181002.579397306, "711": 20265806.740352586, "723": 20403190.226861864, "730": 20502824.273231804}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_devourersmallmount_light.jpg", "wowhead_url": "https://www.wowhead.com/item=242497"}, {"item_id": 242395, "name": "item_242395", "results": {"704": 20179612.27549222, "711": 20247281.548791327, "723": 20377890.667188965, "730": 20455794.201018695}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_112_raidtrinkets_silkwormsantenna.jpg", "wowhead_url": "https://www.wowhead.com/item=242395"}, {"item_id": 242494, "name": "item_242494", "results": {"704": 20108084.37562294, "711": 20186571.289287537, "723": 20331964.61370853, "730": 20415350.277574286}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_herb_karesh.jpg", "wowhead_url": "https://www.wowhead.com/item=242494"}, {"item_id": 219308, "name": "item_219308", "results": {"704": 20096831.278799757, "711": 20170004.099665668, "723": 20314923.6293109, "730": 20401190.546555743}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_arathordungeon_signet_color1.jpg", "wowhead_url": "https://www.wowhead.com/item=219308"}, {"item_id": 219312, "name": "item_219312", "results": {"704": 20086119.463518836, "711": 20149266.809563186, "723": 20280992.441688202, "730": 20377019.142898895}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_arathordungeon_fragment_color5.jpg", "wowhead_url": "https://www.wowhead.com/item=219312"}, {"item_id": 190958, "name": "item_190958", "results": {"704": 20064839.35721705, "711": 20134373.23270796, "723": 20266864.336334746, "730": 20355275.289006725}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_60pvp_trinket1d.jpg", "wowhead_url": "https://www.wowhead.com/item=190958"}, {"item_id": 242392, "name": "item_242392", "results": {"704": 20073782.197627705, "711": 20141277.442628615, "723": 20270186.748152032, "730": 20347906.704756293}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_112_raidtrinkets_intdps_ancientkareshirelic.jpg", "wowhead_url": "https://www.wowhead.com/item=242392"}, {"item_id": 219314, "name": "item_219314", "results": {"704": 20038488.828668028, "711": 20110353.511066597, "723": 20240727.076514173, "730": 20327514.958147418}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_raid_mercurialegg_red.jpg", "wowhead_url": "https://www.wowhead.com/item=219314"}, {"item_id": 242398, "name": "item_242398", "results": {"704": 19964402.493923575, "711": 20063351.842565283, "723": 20218389.908141777, "730": 20321876.636055514}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_112_raidtrinkets_soulbinderbossinttrinket.jpg", "wowhead_url": "https://www.wowhead.com/item=242398"}, {"item_id": 232545, "name": "item_232545", "results": {"704": 19920879.85187913, "711": 20004024.85636752, "723": 20160105.154374104, "730": 20260461.59498461}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_engineering_90_lightningbox.jpg", "wowhead_url": "https://www.wowhead.com/item=232545"}, {"item_id": 219317, "name": "item_219317", "results": {"704": 19906281.17747835, "711": 19982876.028990258, "723": 20120870.990159735, "730": 20209513.857875418}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_11_0_dungeon_oldgodstatuepiece_purple.jpg", "wowhead_url": "https://www.wowhead.com/item=219317"}, {"item_id": 219313, "name": "item_219313", "results": {"704": 19821874.958527293, "711": 19892906.453282636, "723": 20014089.018567342, "730": 20094806.901107203}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_arathordungeon_bell_color1.jpg", "wowhead_url": "https://www.wowhead.com/item=219313"}, {"item_id": 178826, "name": "item_178826", "results": {"704": 19820052.87281872, "711": 19874401.66597009, "723": 19979871.157838866, "730": 20042899.48549407}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_jewelcrafting_nightseye_01.jpg", "wowhead_url": "https://www.wowhead.com/item=178826"}, {"item_id": 185845, "name": "item_185845", "results": {"704": 19746554.427133437, "711": 19793426.72374796, "723": 19921697.65004202, "730": 20002563.741880104}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_7_0raid_trinket_09a.jpg", "wowhead_url": "https://www.wowhead.com/item=185845"}, {"item_id": 219310, "name": "item_219310", "results": {"704": 19744338.5188173, "711": 19800005.803880733, "723": 19917498.444279157, "730": 19998721.72274944}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_arathordungeon_fragment_color4.jpg", "wowhead_url": "https://www.wowhead.com/item=219310"}, {"item_id": 232542, "name": "item_232542", "results": {"704": 19733478.39922037, "711": 19803500.696550637, "723": 19916637.12311488, "730": 19994060.406326044}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_111_healraydrone_blackwater.jpg", "wowhead_url": "https://www.wowhead.com/item=232542"}, {"item_id": 242403, "name": "item_242403", "results": {"704": 19656405.11961368, "711": 19707820.707509696, "723": 19789022.39296497, "730": 19844505.250754114}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_11_0_etherealraid_communicator_color4.jpg", "wowhead_url": "https://www.wowhead.com/item=242403"}, {"item_id": 242399, "name": "item_242399", "results": {"704": 19436463.540875062, "711": 19466973.097525053, "723": 19516017.778012298, "730": 19549339.029868502}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_112_raidtrinkets_blobofswirlingvoid_terra.jpg", "wowhead_url": "https://www.wowhead.com/item=242399"}, {"item_id": 185846, "name": "item_185846", "results": {"704": 19415409.468510248, "711": 19448912.08889269, "723": 19495939.659426093, "730": 19526096.391819634}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_misc_paperpackage01b.jpg", "wowhead_url": "https://www.wowhead.com/item=185846"}, {"item_id": 219309, "name": "item_219309", "results": {"704": 19329632.23903593, "711": 19353024.420441873, "723": 19380849.225803327, "730": 19401874.498424504}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_7xp_inscription_talenttome01.jpg", "wowhead_url": "https://www.wowhead.com/item=219309"}, {"item_id": 242401, "name": "item_242401", "results": {"704": 19191113.35582798, "711": 19195698.84097753, "723": 19213678.82141819, "730": 19229254.626097433}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_112_raidtrinkets_manaforgetanktrinket3.jpg", "wowhead_url": "https://www.wowhead.com/item=242401"}, {"item_id": 232543, "name": "item_232543", "results": {"704": 19146293.31547077, "711": 19157576.08934405, "723": 19178171.615299173, "730": 19188407.33240966}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_misc_food_legion_goomolasses_pool.jpg", "wowhead_url": "https://www.wowhead.com/item=232543"}, {"item_id": 242393, "name": "item_242393", "results": {"704": 19137475.132299382, "711": 19150264.578705553, "723": 19162328.2840774, "730": 19171070.24331599}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_112_raidtrinkets_astralspinneret.jpg", "wowhead_url": "https://www.wowhead.com/item=242393"}, {"item_id": 242404, "name": "item_242404", "results": {"704": 19118728.336183786, "711": 19132149.32329558, "723": 19137950.95737613, "730": 19151407.282905247}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_112_raidtrinkets_omnidpstrinket.jpg", "wowhead_url": "https://www.wowhead.com/item=242404"}, {"item_id": 190652, "name": "item_190652", "results": {"704": 19112508.27190002, "711": 19115500.832094435, "723": 19134756.71062918, "730": 19143606.42793755}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_misc_bag_felclothbag.jpg", "wowhead_url": "https://www.wowhead.com/item=190652"}, {"item_id": 242400, "name": "item_242400", "results": {"704": 19116782.4595705, "711": 19121356.366325796, "723": 19140164.938809186, "730": 19143491.917243887}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_112_raidtrinkets_oathbindersauthority.jpg", "wowhead_url": "https://www.wowhead.com/item=242400"}, {"item_id": 185836, "name": "item_185836", "results": {"704": 18794177.43586358, "711": 18795208.071650587, "723": 18795966.977300603, "730": 18793454.90594429}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_misc_profession_book_enchanting.jpg", "wowhead_url": "https://www.wowhead.com/item=185836"}], "aoe5-no_buff": [{"item_id": 242497, "name": "item_242497", "results": {"704": 12994684.391970087, "711": 13052326.809235249, "723": 13148262.065401308, "730": 13212847.600996591}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_devourersmallmount_light.jpg", "wowhead_url": "https://www.wowhead.com/item=242497"}, {"item_id": 219314, "name": "item_219314", "results": {"704": 12906191.082351923, "711": 12960619.353767026, "723": 13040913.297172261, "730": 13096084.521969784}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_raid_mercurialegg_red.jpg", "wowhead_url": "https://www.wowhead.com/item=219314"}, {"item_id": 242395, "name": "item_242395", "results": {"704": 12909696.673856627, "711": 12957113.980244378, "723": 13044474.430741927, "730": 13093287.485971387}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_112_raidtrinkets_silkwormsantenna.jpg", "wowhead_url": "https://www.wowhead.com/item=242395"}, {"item_id": 190958, "name": "item_190958", "results": {"704": 12894883.200548258, "711": 12941768.591479674, "723": 13032719.74851337, "730": 13083249.869254723}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_60pvp_trinket1d.jpg", "wowhead_url": "https://www.wowhead.com/item=190958"}, {"item_id": 242494, "name": "item_242494", "results": {"704": 12882861.171080435, "711": 12928380.13738432, "723": 13017172.90003613, "730": 13071723.012924068}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_herb_karesh.jpg", "wowhead_url": "https://www.wowhead.com/item=242494"}, {"item_id": 219312, "name": "item_219312", "results": {"704": 12878235.589065017, "711": 12919020.651211584, "723": 13007455.64976638, "730": 13061929.912307533}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_arathordungeon_fragment_color5.jpg", "wowhead_url": "https://www.wowhead.com/item=219312"}, {"item_id": 242398, "name": "item_242398", "results": {"704": 12821145.785787236, "711": 12879183.935164351, "723": 12987163.878597418, "730": 13058139.868880998}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_112_raidtrinkets_soulbinderbossinttrinket.jpg", "wowhead_url": "https://www.wowhead.com/item=242398"}, {"item_id": 242392, "name": "item_242392", "results": {"704": 12888420.93528994, "711": 12930599.51121993, "723": 13006542.448149607, "730": 13055139.966992375}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_112_raidtrinkets_intdps_ancientkareshirelic.jpg", "wowhead_url": "https://www.wowhead.com/item=242392"}, {"item_id": 219308, "name": "item_219308", "results": {"704": 12870006.531052262, "711": 12912059.529928848, "723": 13010957.386144375, "730": 13053036.349791527}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_arathordungeon_signet_color1.jpg", "wowhead_url": "https://www.wowhead.com/item=219308"}, {"item_id": 232545, "name": "item_232545", "results": {"704": 12806571.74948823, "711": 12865551.809030734, "723": 12974200.564042188, "730": 13044964.49036282}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_engineering_90_lightningbox.jpg", "wowhead_url": "https://www.wowhead.com/item=232545"}, {"item_id": 242402, "name": "item_242402", "results": {"704": 12850164.408435205, "711": 12897064.860148521, "723": 12989919.428063456, "730": 13041173.694677738}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_112_raidtrinkets_trinkettechnomancer_ritualengine.jpg", "wowhead_url": "https://www.wowhead.com/item=242402"}, {"item_id": 219317, "name": "item_219317", "results": {"704": 12762978.838636296, "711": 12813112.650965689, "723": 12904813.274181003, "730": 12966003.167151393}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_11_0_dungeon_oldgodstatuepiece_purple.jpg", "wowhead_url": "https://www.wowhead.com/item=219317"}, {"item_id": 178826, "name": "item_178826", "results": {"704": 12779121.420314603, "711": 12820771.819577998, "723": 12892903.194279855, "730": 12937498.1183392}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_jewelcrafting_nightseye_01.jpg", "wowhead_url": "https://www.wowhead.com/item=178826"}, {"item_id": 242403, "name": "item_242403", "results": {"704": 12749403.442466274, "711": 12785150.758434944, "723": 12854779.535786835, "730": 12899979.34165039}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_11_0_etherealraid_communicator_color4.jpg", "wowhead_url": "https://www.wowhead.com/item=242403"}, {"item_id": 219313, "name": "item_219313", "results": {"704": 12695793.861640994, "711": 12741708.67102484, "723": 12821771.165821897, "730": 12872461.102905454}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_arathordungeon_bell_color1.jpg", "wowhead_url": "https://www.wowhead.com/item=219313"}, {"item_id": 219310, "name": "item_219310", "results": {"704": 12635784.41070076, "711": 12681465.635514092, "723": 12752612.704721916, "730": 12803610.455213752}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_arathordungeon_fragment_color4.jpg", "wowhead_url": "https://www.wowhead.com/item=219310"}, {"item_id": 185845, "name": "item_185845", "results": {"704": 12638654.947788425, "711": 12678582.605847599, "723": 12754261.251040988, "730": 12801166.073039}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_7_0raid_trinket_09a.jpg", "wowhead_url": "https://www.wowhead.com/item=185845"}, {"item_id": 232542, "name": "item_232542", "results": {"704": 12635720.371045593, "711": 12678968.516989162, "723": 12753090.849627553, "730": 12799335.296832727}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_111_healraydrone_blackwater.jpg", "wowhead_url": "https://www.wowhead.com/item=232542"}, {"item_id": 185846, "name": "item_185846", "results": {"704": 12559520.770387812, "711": 12587813.071595298, "723": 12632288.9632724, "730": 12665153.254999548}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_misc_paperpackage01b.jpg", "wowhead_url": "https://www.wowhead.com/item=185846"}, {"item_id": 242399, "name": "item_242399", "results": {"704": 12513747.10761059, "711": 12539316.818143303, "723": 12578405.758896338, "730": 12605803.573721481}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_112_raidtrinkets_blobofswirlingvoid_terra.jpg", "wowhead_url": "https://www.wowhead.com/item=242399"}, {"item_id": 219309, "name": "item_219309", "results": {"704": 12402168.569894124, "711": 12417054.241252592, "723": 12440676.31875205, "730": 12463258.652003331}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_7xp_inscription_talenttome01.jpg", "wowhead_url": "https://www.wowhead.com/item=219309"}, {"item_id": 242393, "name": "item_242393", "results": {"704": 12310705.26589731, "711": 12318066.857766367, "723": 12322591.419029433, "730": 12338016.877768576}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_112_raidtrinkets_astralspinneret.jpg", "wowhead_url": "https://www.wowhead.com/item=242393"}, {"item_id": 242401, "name": "item_242401", "results": {"704": 12291835.11993513, "711": 12299063.536644373, "723": 12307061.991794134, "730": 12314458.495212644}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_112_raidtrinkets_manaforgetanktrinket3.jpg", "wowhead_url": "https://www.wowhead.com/item=242401"}, {"item_id": 232543, "name": "item_232543", "results": {"704": 12276257.547620775, "711": 12287007.223390799, "723": 12297533.281749114, "730": 12303315.18989288}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_misc_food_legion_goomolasses_pool.jpg", "wowhead_url": "https://www.wowhead.com/item=232543"}, {"item_id": 242400, "name": "item_242400", "results": {"704": 12250255.032243993, "711": 12253933.330715736, "723": 12267478.07130038, "730": 12270814.789876096}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_112_raidtrinkets_oathbindersauthority.jpg", "wowhead_url": "https://www.wowhead.com/item=242400"}, {"item_id": 242404, "name": "item_242404", "results": {"704": 12253187.791380126, "711": 12261904.544860065, "723": 12265251.320829757, "730": 12269480.138429604}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_112_raidtrinkets_omnidpstrinket.jpg", "wowhead_url": "https://www.wowhead.com/item=242404"}, {"item_id": 190652, "name": "item_190652", "results": {"704": 12246766.719335772, "711": 12253370.200133607, "723": 12259920.329270065, "730": 12267430.71206413}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_misc_bag_felclothbag.jpg", "wowhead_url": "https://www.wowhead.com/item=190652"}, {"item_id": 185836, "name": "item_185836", "results": {"704": 12039395.935287483, "711": 12042701.419564111, "723": 12042021.432619227, "730": 12041056.861751754}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_misc_profession_book_enchanting.jpg", "wowhead_url": "https://www.wowhead.com/item=185836"}], "aoe8-no_buff": [{"item_id": 242497, "name": "item_242497", "results": {"704": 18339433.256379355, "711": 18410297.362941183, "723": 18554724.23174625, "730": 18637316.909491923}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_devourersmallmount_light.jpg", "wowhead_url": "https://www.wowhead.com/item=242497"}, {"item_id": 242395, "name": "item_242395", "results": {"704": 18262215.9464587, "711": 18330377.390274324, "723": 18454599.787391577, "730": 18522586.369739067}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_112_raidtrinkets_silkwormsantenna.jpg", "wowhead_url": "https://www.wowhead.com/item=242395"}, {"item_id": 190958, "name": "item_190958", "results": {"704": 18218148.31822624, "711": 18281289.144051783, "723": 18398582.55544683, "730": 18482845.64082105}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_60pvp_trinket1d.jpg", "wowhead_url": "https://www.wowhead.com/item=190958"}, {"item_id": 219314, "name": "item_219314", "results": {"704": 18215453.274695896, "711": 18278827.029892005, "723": 18402856.011805627, "730": 18476154.97827819}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_raid_mercurialegg_red.jpg", "wowhead_url": "https://www.wowhead.com/item=219314"}, {"item_id": 242494, "name": "item_242494", "results": {"704": 18208699.481367238, "711": 18272523.143372703, "723": 18396855.732008055, "730": 18474696.580385335}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_herb_karesh.jpg", "wowhead_url": "https://www.wowhead.com/item=242494"}, {"item_id": 219312, "name": "item_219312", "results": {"704": 18187993.041577645, "711": 18261814.011574794, "723": 18385143.036010943, "730": 18457113.322333623}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_arathordungeon_fragment_color5.jpg", "wowhead_url": "https://www.wowhead.com/item=219312"}, {"item_id": 219308, "name": "item_219308", "results": {"704": 18189775.10838266, "711": 18256599.295130048, "723": 18386529.62938506, "730": 18453147.81802918}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_arathordungeon_signet_color1.jpg", "wowhead_url": "https://www.wowhead.com/item=219308"}, {"item_id": 242392, "name": "item_242392", "results": {"704": 18182293.427782476, "711": 18246470.662269916, "723": 18357321.87438542, "730": 18425859.35949424}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_112_raidtrinkets_intdps_ancientkareshirelic.jpg", "wowhead_url": "https://www.wowhead.com/item=242392"}, {"item_id": 242402, "name": "item_242402", "results": {"704": 18133811.66993298, "711": 18206135.812007498, "723": 18330747.925427612, "730": 18408519.0404355}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_112_raidtrinkets_trinkettechnomancer_ritualengine.jpg", "wowhead_url": "https://www.wowhead.com/item=242402"}, {"item_id": 242398, "name": "item_242398", "results": {"704": 18069435.57051152, "711": 18146400.48004735, "723": 18296418.699183848, "730": 18388626.48567428}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_112_raidtrinkets_soulbinderbossinttrinket.jpg", "wowhead_url": "https://www.wowhead.com/item=242398"}, {"item_id": 232545, "name": "item_232545", "results": {"704": 18041857.81928298, "711": 18113426.39219817, "723": 18259110.17910888, "730": 18341904.97223769}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_engineering_90_lightningbox.jpg", "wowhead_url": "https://www.wowhead.com/item=232545"}, {"item_id": 219317, "name": "item_219317", "results": {"704": 18015466.338717576, "711": 18094168.596340198, "723": 18215158.055229597, "730": 18299598.181580454}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_11_0_dungeon_oldgodstatuepiece_purple.jpg", "wowhead_url": "https://www.wowhead.com/item=219317"}, {"item_id": 178826, "name": "item_178826", "results": {"704": 18002936.351491287, "711": 18053604.816631958, "723": 18146672.089326803, "730": 18200942.207880575}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_jewelcrafting_nightseye_01.jpg", "wowhead_url": "https://www.wowhead.com/item=178826"}, {"item_id": 219313, "name": "item_219313", "results": {"704": 17941677.46678012, "711": 17995097.186731588, "723": 18112912.892270215, "730": 18184814.27903305}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_arathordungeon_bell_color1.jpg", "wowhead_url": "https://www.wowhead.com/item=219313"}, {"item_id": 185845, "name": "item_185845", "results": {"704": 17858256.228134245, "711": 17919154.109603427, "723": 18026506.597601715, "730": 18102516.237656116}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_7_0raid_trinket_09a.jpg", "wowhead_url": "https://www.wowhead.com/item=185845"}, {"item_id": 219310, "name": "item_219310", "results": {"704": 17865722.821433727, "711": 17921269.345922332, "723": 18029183.882618953, "730": 18098329.474296488}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_arathordungeon_fragment_color4.jpg", "wowhead_url": "https://www.wowhead.com/item=219310"}, {"item_id": 232542, "name": "item_232542", "results": {"704": 17862204.022029717, "711": 17919234.36041958, "723": 18025651.735680472, "730": 18097571.668608923}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_111_healraydrone_blackwater.jpg", "wowhead_url": "https://www.wowhead.com/item=232542"}, {"item_id": 242403, "name": "item_242403", "results": {"704": 17871633.933737002, "711": 17920141.636265207, "723": 17996055.723126292, "730": 18043395.57843292}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_11_0_etherealraid_communicator_color4.jpg", "wowhead_url": "https://www.wowhead.com/item=242403"}, {"item_id": 185846, "name": "item_185846", "results": {"704": 17626973.207257703, "711": 17650736.9491512, "723": 17704114.84501198, "730": 17736591.375825915}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_misc_paperpackage01b.jpg", "wowhead_url": "https://www.wowhead.com/item=185846"}, {"item_id": 242399, "name": "item_242399", "results": {"704": 17597049.074620806, "711": 17622027.9568649, "723": 17666952.00084843, "730": 17692722.406861503}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_112_raidtrinkets_blobofswirlingvoid_terra.jpg", "wowhead_url": "https://www.wowhead.com/item=242399"}, {"item_id": 219309, "name": "item_219309", "results": {"704": 17476149.544339024, "711": 17494521.514205404, "723": 17522895.16382907, "730": 17539260.587984253}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_7xp_inscription_talenttome01.jpg", "wowhead_url": "https://www.wowhead.com/item=219309"}, {"item_id": 242393, "name": "item_242393", "results": {"704": 17373340.417808007, "711": 17381749.568042252, "723": 17389502.190116055, "730": 17400972.859166425}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_112_raidtrinkets_astralspinneret.jpg", "wowhead_url": "https://www.wowhead.com/item=242393"}, {"item_id": 242401, "name": "item_242401", "results": {"704": 17373571.074582078, "711": 17381861.24410533, "723": 17388204.36915538, "730": 17399800.767513506}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_112_raidtrinkets_manaforgetanktrinket3.jpg", "wowhead_url": "https://www.wowhead.com/item=242401"}, {"item_id": 232543, "name": "item_232543", "results": {"704": 17338206.768989936, "711": 17347327.189852964, "723": 17360965.058563303, "730": 17377795.399708353}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_misc_food_legion_goomolasses_pool.jpg", "wowhead_url": "https://www.wowhead.com/item=232543"}, {"item_id": 242400, "name": "item_242400", "results": {"704": 17302739.331801318, "711": 17312573.085458294, "723": 17323377.06744014, "730": 17332604.98102887}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_112_raidtrinkets_oathbindersauthority.jpg", "wowhead_url": "https://www.wowhead.com/item=242400"}, {"item_id": 190652, "name": "item_190652", "results": {"704": 17303474.349762127, "711": 17312101.88949092, "723": 17323169.86762494, "730": 17331903.62690428}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_misc_bag_felclothbag.jpg", "wowhead_url": "https://www.wowhead.com/item=190652"}, {"item_id": 242404, "name": "item_242404", "results": {"704": 17311562.056629978, "711": 17315690.06046967, "723": 17333470.205855355, "730": 17331240.279313985}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_112_raidtrinkets_omnidpstrinket.jpg", "wowhead_url": "https://www.wowhead.com/item=242404"}, {"item_id": 185836, "name": "item_185836", "results": {"704": 17013957.612572707, "711": 17010580.446479507, "723": 17010771.0198064, "730": 17011602.553750645}, "icon_url": "https://wow.zamimg.com/images/wow/icons/large/inv_misc_profession_book_enchanting.jpg", "wowhead_url": "https://www.wowhead.com/item=185836"}]};
    const scenarios = ["single-buff", "single-no_buff", "aoe5-buff", "aoe8-buff", "aoe5-no_buff", "aoe8-no_buff"];
    const ilevels = [704, 711, 723, 730];
    const maxRows = 50;
    let currentScenario = scenarios[0];
    const FALLBACK_ICON_URL = 'https://wow.zamimg.com/images/wow/icons/large/inv_misc_questionmark.jpg';
    
    const palette = ['#6366f1', '#22c55e', '#f97316', '#ec4899', '#0ea5e9', '#8b5cf6', '#eab308'];
    const ctx = document.getElementById('trinketChart').getContext('2d');
    const iconCache = {};
    const tooltipEl = document.createElement('div');
    tooltipEl.className = 'item-tooltip';
    document.body.appendChild(tooltipEl);
    let tooltipEnabled = true;
    
    function externalTooltipHandler(context) {
      const tooltip = context.tooltip; const chart = context.chart;
      if (!tooltipEnabled || !tooltip || tooltip.opacity === 0) { tooltipEl.style.opacity = 0; return; }
      const dataPoint = tooltip.dataPoints[0];
      const allResults = chart.options.plugins.customLabels.allResults;
      if (!allResults || !allResults[dataPoint.dataIndex]) return;
      const entry = allResults[dataPoint.dataIndex];
      const result_map = {};
      ilevels.forEach(level => result_map[level] = entry.results[level] || entry.results[String(level)] || 0);
      const best_value = Math.max(...Object.values(result_map));
      const best_level = Object.keys(result_map).reduce((a, b) => result_map[a] > result_map[b] ? a : b);
      const rows = ilevels.map((level) => {
        const value = result_map[level]; const delta = Math.max(0, best_value - value);
        const marker = Number(level) === Number(best_level) ? '\u2605' : '\u2022';
        const deltaText = delta > 0 ? ` (Î” ${delta.toLocaleString(undefined, {maximumFractionDigits:0})} DPS)` : ' (Best)';
        return `<div>${marker} ilvl ${level}: ${value.toLocaleString(undefined, {maximumFractionDigits:0})} DPS${deltaText}</div>`;
      }).join('');
      tooltipEl.innerHTML = `<div class='tooltip-header'><img src='${entry.icon_url || FALLBACK_ICON_URL}' alt='' /><div><strong>${entry.name}</strong><div class='tooltip-sub'>Best ilvl ${best_level} â€¢ ${best_value.toLocaleString(undefined, {maximumFractionDigits:0})} DPS</div></div></div><div class='tooltip-body'>${rows}</div><div class='tooltip-link'><a href='${entry.wowhead_url}' target='_blank' rel='noopener'>Wowhead ë³´ê¸°</a></div>`;
      const canvasRect = context.chart.canvas.getBoundingClientRect();
      tooltipEl.style.opacity = 1;
      tooltipEl.style.left = `${canvasRect.left + window.pageXOffset + tooltip.caretX + 24}px`;
      tooltipEl.style.top = `${canvasRect.top + window.pageYOffset + tooltip.caretY + 24}px`;
    }
    
    const customLabelsPlugin = {
      id: 'customLabels',
      afterDatasetsDraw(chart) {
        const yScale = chart.scales.y; const allResults = chart.options.plugins.customLabels.allResults;
        if (!yScale || !allResults) { return; }
        const ctx = chart.ctx; const size = 32; const chartLeft = chart.chartArea.left;
        allResults.forEach((entry, index) => {
          const y = yScale.getPixelForValue(index); if (y === undefined) return;
          const iconX = 4;
          // [ìˆ˜ì • í•µì‹¬ 1] entry ê°ì²´ì—ì„œ 'icon_url'ì„ ì˜¬ë°”ë¥´ê²Œ ì°¸ì¡°í•˜ê³ , ì—†ì„ ê²½ìš° fallback ì•„ì´ì½˜ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.
          const iconUrl = entry.icon_url || FALLBACK_ICON_URL;
          let image = iconCache[iconUrl];
          if (!image) { image = new Image(); image.src = iconUrl; iconCache[iconUrl] = image; image.onload = () => chart.draw(); }
          if (image.complete) {
            ctx.save(); ctx.beginPath();
            if (ctx.roundRect) { ctx.roundRect(iconX, y - size / 2, size, size, 6); ctx.clip(); }
            ctx.drawImage(image, iconX, y - size / 2, size, size);
            ctx.restore();
          }
          const textX = iconX + size + 8;
          ctx.font = '14px "Segoe UI", Helvetica, Arial, sans-serif';
          ctx.fillStyle = '#cbd5f5'; ctx.textAlign = 'left'; ctx.textBaseline = 'middle';
          const maxWidth = chartLeft - textX - 10;
          ctx.fillText(entry.name, textX, y, maxWidth);
        });
      },
    };
    
    Chart.register(customLabelsPlugin);
    
    const chart = new Chart(ctx, {
      type: 'bar',
      data: { labels: [], datasets: [] },
      options: {
        responsive: true, maintainAspectRatio: false, indexAxis: 'y',
        layout: { padding: { left: 240, right: 24, top: 16, bottom: 24 } },
        scales: {
          x: { stacked: true, ticks: { color: '#cbd5f5', callback: (v) => v.toLocaleString() }, grid: { color: 'rgba(148,163,184,0.18)' }, title: { display: true, text: 'Average DPS', color: '#94a3b8', font: { size: 13 } } },
          y: { stacked: true, ticks: { display: false }, grid: { display: false } },
        },
        plugins: { legend: { labels: { color: '#cbd5f5' } }, tooltip: { enabled: false, external: externalTooltipHandler }, customLabels: { allResults: [] } },
        interaction: { mode: 'nearest', axis: 'y', intersect: false },
        animation: false,
        onClick: (_evt, elements) => {
          if (!elements.length) { return; }
          const allResults = chart.options.plugins.customLabels.allResults;
          const entry = allResults[elements[0].index];
          if (entry && entry.wowhead_url) { window.open(entry.wowhead_url, '_blank', 'noopener'); }
        },
      },
    });
    
    function updateReportForScenario(scenarioName) {
      currentScenario = scenarioName;
      let summary = allScenarioData[scenarioName] || [];
      if (maxRows && summary.length > maxRows) { summary = summary.slice(0, maxRows); }
    
      const labels = summary.map(entry => '');
      const absoluteSegments = {}; const deltaSegments = {};
      ilevels.forEach(level => { absoluteSegments[level] = []; deltaSegments[level] = []; });
    
      const allDpsValues = [];
      summary.forEach(entry => {
        const result_map = {};
        ilevels.forEach(level => result_map[level] = entry.results[level] || entry.results[String(level)] || 0);
        const best_value = Object.keys(result_map).length > 0 ? Math.max(...Object.values(result_map)) : 0;
        if (best_value > 0) allDpsValues.push(best_value);
        let prev_value = 0; const increments = {};
        const sorted_levels = [...ilevels].sort((a,b) => result_map[a] - result_map[b]);
        sorted_levels.forEach(level => {
            const current = result_map[level];
            increments[level] = Math.max(0, current - prev_value);
            prev_value = Math.max(prev_value, current);
        });
        ilevels.forEach(level => {
            absoluteSegments[level].push(increments[level]);
            deltaSegments[level].push(best_value - result_map[level]);
        });
      });
    
      const makeDataset = (label, data, color, stack) => ({ label, data, backgroundColor: color, borderRadius: 6, stack });
      const absoluteDatasets = ilevels.map((level, idx) => makeDataset(`ilvl ${level}`, absoluteSegments[level], palette[idx % palette.length], 'absolute'));
      const deltaDatasets = ilevels.map((level, idx) => makeDataset(`ilvl ${level}`, deltaSegments[level], palette[idx % palette.length], 'delta'));
    
      chart.data.labels = labels;
      // [ìˆ˜ì • í•µì‹¬ 2] ì•„ì´ì½˜ì„ ê·¸ë¦¬ëŠ” í”ŒëŸ¬ê·¸ì¸ì´ ë°ì´í„°ì— ì ‘ê·¼í•  ìˆ˜ ìžˆë„ë¡ ì°¨íŠ¸ ì˜µì…˜ì— í˜„ìž¬ ë°ì´í„°ë¥¼ ì „ë‹¬í•©ë‹ˆë‹¤.
      chart.options.plugins.customLabels.allResults = summary;
      
      const isAbsolute = document.getElementById('mode-absolute').classList.contains('is-active');
      chart.options.scales.x.title.text = isAbsolute ? 'Average DPS' : 'Î” DPS to Best (lower is better)';
      chart.data.datasets = isAbsolute ? absoluteDatasets : deltaDatasets;
    
      if (isAbsolute && allDpsValues.length > 0) {
          const abs_min = Math.min(...allDpsValues); const abs_max = Math.max(...allDpsValues);
          const range = abs_max - abs_min;
          chart.options.scales.x.min = range > 0 ? Math.floor(abs_min - range * 0.1) : Math.floor(abs_min * 0.95);
      } else { chart.options.scales.x.min = 0; }
      chart.update();
    
      const tableBody = document.getElementById('results-table-body');
      const tableRows = summary.map(entry => {
          const result_map = {};
          ilevels.forEach(level => result_map[level] = entry.results[level] || entry.results[String(level)] || 0);
          const best_level = Object.keys(result_map).reduce((a, b) => result_map[a] > result_map[b] ? a : b);
          const cells = ilevels.map(level => {
              const value = result_map[level];
              let formatted = value.toLocaleString(undefined, {maximumFractionDigits: 0});
              if (Number(level) === Number(best_level)) { formatted = `<strong>${formatted}</strong>`; }
              return `<td>${formatted}</td>`;
          }).join('');
          return `<tr><td><a class='item-link' href='${entry.wowhead_url}' data-wowhead='item=${entry.item_id}' target='_blank'><img class='item-icon' src='${entry.icon_url || FALLBACK_ICON_URL}'/><span>${entry.name}</span></a></td>${cells}</tr>`;
      }).join('');
      tableBody.innerHTML = tableRows;
    
      document.querySelectorAll('.scenario-tab').forEach(btn => {
          btn.classList.toggle('is-active', btn.dataset.scenario === scenarioName);
      });
    }
    
    document.querySelectorAll('.scenario-tab').forEach(button => {
      button.addEventListener('click', () => updateReportForScenario(button.dataset.scenario));
    });
    
    document.querySelectorAll('.mode-toggle button').forEach(button => {
      button.addEventListener('click', () => {
          document.querySelectorAll('.mode-toggle button').forEach(btn => btn.classList.remove('is-active'));
          button.classList.add('is-active');
          updateReportForScenario(currentScenario);
      });
    });
    
    const tooltipToggle = document.getElementById('tooltip-toggle');
    tooltipToggle.addEventListener('click', () => {
      tooltipEnabled = !tooltipEnabled;
      tooltipToggle.textContent = `Chart Tooltip: ${tooltipEnabled ? 'On' : 'Off'}`;
      tooltipToggle.classList.toggle('is-inactive', !tooltipEnabled);
      if (!tooltipEnabled) { tooltipEl.style.opacity = 0; }
    });
    
    updateReportForScenario(currentScenario);
    document.querySelector('.scenario-tab[data-scenario="' + currentScenario + '"]').classList.add('is-active');
  </script>
</body>
</html>
